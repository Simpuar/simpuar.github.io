---
layout: post
title: THM â€” Exploiting Active Directory
date: 2022-11-09 00:00:00 -500
categories: [TryHackMe]
tags: [Active Directory, Windows]
---

<img src="/assets/images/THM/Exploiting%20Active%20Directory/logo.png" width="20%">

***

<center><strong><font color="White">Learn common AD exploitation techniques that can allow you to reach your goal in an AD environment.</font></strong></center>

***

## <strong><font color="#34A5DA">Introduction</font></strong>

### <font color="#FFA500">AD exploitation</font>

Now that we have performed our internal recon and understand the lay of the land regarding the AD structure and environment, it is time for the exploitation phase. This phase exploits misconfigurations to perform a combination of lateral movement and privilege escalation until we reach a suitable position to execute our goals, as shown in the diagram below. This phase is usually combined with persistence to ensure that we can't lose the new position we gain, but this will be covered in the next room. It is also usually combined with additional enumeration since our new position might allow us to acquire additional information about the lay of the land.

<img src="/assets/images/THM/Exploiting%20Active%20Directory/1.png" width="80%">

### <font color="#FFA500">Learning Objectives</font>

In this network, we will cover several methods that can be used to exploit AD misconfigurations. This is by no means a complete list, as available methods are usually highly situational and dependent on the AD structure and environment. However, we will cover the following techniques for exploiting AD:

* AD Delegation
* Forcing Authentication Relays
* Group Policy Objects
* Targeting AD Users
* Domain Trusts
* Silver and Golden Tickets

***

## <strong><font color="#34A5DA">Exploiting Permission Delegation</font></strong>

Active Directory can delegate permissions and privileges through a feature called Permission Delegation (not to be confused with Kerberos Delegation that will be discussed in the next task). Delegation is what makes AD so powerful in organisations. Imagine we work for an organisation that has 50000 employees. Since we care about security, we only have three users that have access to DA credentials. It would be impossible for those three users to field all requests from the users, such as resetting their passwords. Using Delegation, we can delegate the permission to force change a user's password to the Helpdesk team, meaning they now have a delegated privilege for this specific function. In principle, to keep Delegation secure, the principle of least privilege should be followed. However, in large organisations, this is easier said than done. In this task we will look at exploiting some Delegation misconfigurations. 






***

## <strong><font color="#34A5DA">Exploiting Kerberos Delegation</font></strong>

***

## <strong><font color="#34A5DA">Exploiting Automated Relays</font></strong>

***

## <strong><font color="#34A5DA">Exploiting AD Users</font></strong>

***

## <strong><font color="#34A5DA">Exploiting GPOs</font></strong>

***

## <strong><font color="#34A5DA">Exploiting Certificates</font></strong>

***

## <strong><font color="#34A5DA">Exploiting Domain Trusts</font></strong>

***

## <strong><font color="#34A5DA">Conclusion</font></strong>
